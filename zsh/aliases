# Paths
alias dot="~/dev/github/dotfiles"
alias dev="~/dev"
alias io="~/dev/intercom"
alias emb="~/dev/embercom"
alias com="~/dev/intercom_repos/embercom-composer"
alias gru="~/dev/grunt"
alias hack="~/dev/hack"
alias ffmpeg="~/Downloads/ffmpeg/ffmpeg"
alias email="~/dev/email"

# Commands
alias hs=history
alias h="cd ~/"
alias reload="source ~/.zshrc"
alias r!='reload'
alias r1='reload'
alias c="clear"

# Vim
alias v="vim"
alias ,ev="vim -c \"execute 'normal ,ev'\""
alias ,el="vim -c \"execute 'normal ,el'\""
alias ,ea="vim -c \"execute 'normal ,ea'\""

# Git
alias glol="git log --pretty=oneline --abbrev-commit --graph --decorate"
alias gll="glol"
alias grl="git reflog"
alias gst="echo NOPE!!! use 's' instead"
alias s="git status --short"
alias ss="git status"
alias d="git diff"
alias dc="git diff --cached"
alias gcob="git checkout -B"
alias gcom="git checkout master"
alias gcop="git checkout -"
alias gdt="git difftool"
alias gmt="git mergetool"
alias go="git checkout -"
alias gphm="git push heroku master"
alias grm="git rebase -i master"
alias gra="git rebase --abort"
alias grc="git rebase --continue"
alias ga="git add . && gst"
alias gcm="git commit -m"
alias gbc="git branch --merged master | grep -v master | xargs git branch -d"
alias gpf="git push --force"
alias gs="git show"
alias gh="git reset --hard HEAD"
alias gspruce="git checkout master && git branch --merged | grep -v '\\*' | xargs -n 1 git branch -d && git checkout -"

gac() { git add . && git commit -m "$*" }
gaf() { git add . && git commit -am "fixup! $*" }
gas() { git add . && git commit -am "squash! $*" }

#tmux
alias tmux="TERM=screen-256color-bce tmux"
alias t=tmux

#bundler
alias b2="bundle --local"
alias bl="bundle --local"
alias be="bundle exec"
alias bi="bundle install"

#grunt
alias gsf="grunt server --force"
alias gt="grunt test:server"

#ember-cli
alias es="ember serve"
alias ets="ember test --server"
alias eb="ember build"
alias ebp="ember build --environment=production"
alias nom="rm -rf tmp dist node_modules bower_components"
alias ecl="rm -rf node_modules/embercom-composer && npm link embercom-composer && es"

#npm
alias ni="npm install"
alias noni="echo Deleting directories && nom && echo Installing NPM and Bower packages && ni && echo Starting server && es"

#console
alias pc="bundle exec muster console production"
alias rc="rails c"

# Functions

# create horizontal divider
function hr { printf '=%.0s' $(seq $COLUMNS); }

## make a directory and change into it
function mk() {
  if [ ! -n "$1" ]; then
    echo "Enter a directory name"
  elif [ -d $1 ]; then
    echo "\`$1' already exists"
  else
    mkdir $1 && cd $1
  fi
}

# Start a server
function server() {
  if [ ! -n "$1" ]; then
    python -m SimpleHTTPServer 8080
  else
    python -m SimpleHTTPServer $1
  fi
}

# Find Port Process
function fp(){
  lsof -i tcp:$1
}

# Kill Process
function kp(){
  lsof -t -i tcp:3000 | xargs kill
}

# Intercom Process
function boom(){
  bundle
  rake db:migrate
  RAILS_ENV=test bundle exec rake db:migrate
}
